# asm 笔记

## 寄存器:

就是 cpu 中可以存储数据的器件,一个 cpu 中有多个器件

## 编译器

将汇编代码 编译为二进制机器码

汇编语言有 3 类指令

1. 汇编指令: 机器码的文字表示,有对应的机器码
2. 伪指令: 由编译器执行,计算器并不执行,没有对应的机器码
3. 其他符号: 如+-\*/ 由编译器识别,没有对应的机器码

cpu 要进行数据的读写 必须要与外部器件的芯片(我觉得就是内存的芯片)进行
3 种信息交互才能完成

1. 地址信息: 存储单元的地址信息(内存地址)
2. 控制信息: 器件的选择(选择了哪一个内存器件,一个主板上可以有多个内存条)
3. 数据信息: 读写的数据是什么

这 3 种信息通过总线传输
总线分为 3 类:

1. 地址总线
2. 控制总线
3. 数据总线

一条读内存的指令
`mov ax [3]` : 读取内存单元 3 的数据到寄存器 ax 中

### 地址总线

一个 cpu 有 32 根地址总线.每个线只能指示 0 或 1 的状态 那么 32 根一共有 2^32 种状态
即最多可以找到 0xffffffff 个地址,因为每个地址是一个字节 所以 32 位系统最大只能支持 4g 内存

### 数据总线

    数据总线的宽度决定了每次可以传输的数据大小,如8088cpu 数据总线有8根即宽度是8,那么
    每次只能传1个字节,8086cpu有16根数据总线,所有每次可以传输2个字节

### 控制总线

    cpu对外部器件的控制都是通过控制总线来进行的, 控制总线是一个总称,它是不同控制线的集合,
    有多少根控制线,就意味着cpu提供了对外部器件的多少种控制
    控制总线中 有一根叫 "读信号控制线" 当cpu向它输出低电平(我猜就是0)就表示将要接收数据;
    有一根线叫"写信号输出"的控制线负责传送写信号,这根控制线可以告诉外部器件 比如内存芯片,我要写东西

## 主板

    主板上有核心器件和一些主要器件,这些器件通过总线(3类)相连,这些器件有cpu,存储器,外围芯片组,
    扩展插槽等.扩展插槽上一般有RAM内存条和各类接口卡

## 接口卡

    计算机中所有可用程序控制其工作的设置都受到cpu的控制.cpu对外部的设备不能直接控制,如显示器,音箱等
    直接控制这些的是接口卡,而cpu 只要负责控制接口卡就行了

### 存储器芯片

    随机存储器(RAM): 可读可写,但必须带电运行,断电后存储内容丢失,就是内存条
    只读存储器(ROM): 只能读取,不能写入,关机后内容不消息 一般是系统的bios信息,或者一些只读光盘

# 寄存器

    一般cpu由 运算器,控制器,寄存器等器件组成,这些器件靠内部总线相连(不是前面的外部3种总线)
    * 在cpu种运算器进行信息处理
    * 寄存器进行信息存储
    * 控制器控制各种器件进行工作
    * 内部总线连接各种器件,在他们之间那些数据的传送

    8086 有14个寄存器,每个寄存器都是16位,可以存放2个字节
    AX,BX,CX,DX,SI,DI,SP,BP,IP,CS,SS,DS,ES,PSW,
    ## 通用寄存器
        AX,BX,CX,DX通常存放一般性的数据
        8086的上一代cpu寄存器是8位的,为了兼容它们,
        所有AX,BX,CX,DX,也可以分为AH,AL,BH,BL (H 表示 high,L 表示 low)

# 指令

    `mov` 传送指令
    `jmp` 转移指令 用来改变CS,IP的值
    `jmp 某一合法寄存器(如ax)` 将 `ax` 值转移到 `ip` 中,类似于 `mov ip,ax`
    CS 寄存器:存放指令的段地址
    Ip 寄存器:存放指令的偏移地址

    # todo 看到了 37页 段寄存器
